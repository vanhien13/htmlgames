<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√≤ ch∆°i Kh·ªßng Long H·ªçc To√°n</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #e8f5e9;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }

        #game-container {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }

        #dino-display {
            font-size: 80px;
            margin-bottom: 20px;
            height: 120px;
            transition: transform 0.3s;
        }

        .question {
            font-size: 24px;
            color: #2e7d32;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        button {
            padding: 15px;
            font-size: 18px;
            cursor: pointer;
            border: 2px solid #a5d6a7;
            border-radius: 10px;
            background-color: white;
            transition: all 0.2s;
        }

        button:hover {
            background-color: #c8e6c9;
        }

        #message {
            margin-top: 20px;
            font-weight: bold;
            height: 24px;
        }

        .score {
            margin-top: 10px;
            color: #666;
        }

        .correct-anim { transform: scale(1.2); }
        .wrong-anim { transform: translateX(10px); }
    </style>
</head>
<body>

    <div id="game-container">
        <h1>ü¶ñ To√°n Kh·ªßng Long</h1>
        <div id="dino-display">ü¶ñ</div>
        <div id="question" class="question">ƒêang t·∫£i...</div>
        <div id="options" class="options"></div>
        <div id="message"></div>
        <div class="score">ƒêi·ªÉm: <span id="score-val">0</span>/10</div>
        <button id="next-btn" style="display:none; margin-top:20px; width:100%; background:#4caf50; color:white;">C√¢u ti·∫øp theo</button>
    </div>

    <script>
        const questions = [
            { q: "20 + 7 = ?", a: ["27", "207", "72", "17"], correct: 0 },
            { q: "35 - 5 = ?", a: ["40", "30", "25", "35"], correct: 1 },
            { q: "S·ªë g·ªìm 4 ch·ª•c v√† 2 ƒë∆°n v·ªã l√†:", a: ["6", "24", "42", "402"], correct: 2 },
            { q: "Ph√©p t√≠nh n√†o c√≥ k·∫øt qu·∫£ b·∫±ng 59?", a: ["50 + 9", "50 + 0", "90 + 5", "5 + 9"], correct: 0 },
            { q: "48 - 8 = ?", a: ["56", "40", "48", "38"], correct: 1 },
            { q: "60 + ? = 66", a: ["60", "0", "6", "16"], correct: 2 },
            { q: "74 - 4 = ?", a: ["70", "78", "4", "80"], correct: 0 },
            { q: "3 ch·ª•c + 1 ch·ª•c = ?", a: ["20", "4", "40", "31"], correct: 2 },
            { q: "S·ªë 89 g·ªìm m·∫•y ch·ª•c v√† m·∫•y ƒë∆°n v·ªã?", a: ["9 ch·ª•c, 8 ƒëv", "8 ch·ª•c, 9 ƒëv", "80 ch·ª•c, 9 ƒëv", "8 ch·ª•c, 0 ƒëv"], correct: 1 },
            { q: "55 - 5 = ?", a: ["50", "60", "5", "45"], correct: 0 }
        ];

        let currentIdx = 0;
        let score = 0;

        const dinoDisplay = document.getElementById('dino-display');
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        const messageEl = document.getElementById('message');
        const scoreEl = document.getElementById('score-val');
        const nextBtn = document.getElementById('next-btn');

        function loadQuestion() {
            const data = questions[currentIdx];
            questionEl.innerText = data.q;
            optionsEl.innerHTML = '';
            messageEl.innerText = '';
            nextBtn.style.display = 'none';
            dinoDisplay.innerText = "ü¶ñ";
            dinoDisplay.className = "";

            data.a.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index);
                optionsEl.appendChild(btn);
            });
        }

        function checkAnswer(selectedIdx) {
            const isCorrect = selectedIdx === questions[currentIdx].correct;
            const buttons = optionsEl.getElementsByTagName('button');
            
            // Kh√≥a t·∫•t c·∫£ c√°c n√∫t
            for(let b of buttons) b.disabled = true;

            if (isCorrect) {
                score++;
                scoreEl.innerText = score;
                dinoDisplay.innerText = "ü¶ñüòÑ";
                dinoDisplay.classList.add('correct-anim');
                messageEl.innerText = "Ch√≠nh x√°c! B·∫°n gi·ªèi qu√°!";
                messageEl.style.color = "green";
            } else {
                dinoDisplay.innerText = "ü¶ñüò≠";
                dinoDisplay.classList.add('wrong-anim');
                messageEl.innerText = "Ti·∫øc qu√°, sai m·∫•t r·ªìi!";
                messageEl.style.color = "red";
                buttons[selectedIdx].style.backgroundColor = "#ffcdd2";
            }
            
            buttons[questions[currentIdx].correct].style.backgroundColor = "#c8e6c9";
            nextBtn.style.display = 'block';
        }

        nextBtn.onclick = () => {
            currentIdx++;
            if (currentIdx < questions.length) {
                loadQuestion();
            } else {
                showResult();
            }
        };

        function showResult() {
            questionEl.innerText = "Tr√≤ ch∆°i k·∫øt th√∫c!";
            optionsEl.innerHTML = `<h3>T·ªïng ƒëi·ªÉm c·ªßa b·∫°n: ${score}/10</h3>`;
            nextBtn.innerText = "Ch∆°i l·∫°i";
            nextBtn.onclick = () => location.reload();
            if(score >= 8) dinoDisplay.innerText = "ü¶ñüèÜ";
            else dinoDisplay.innerText = "ü¶ñüí™";
        }

        loadQuestion();
    </script>
</body>
</html>
